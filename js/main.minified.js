/*! alarm-clock 12-04-2015 */
var setTimer=function(){var a=parseInt(document.getElementById("days").value),b=parseInt(document.getElementById("hours").value),c=parseInt(document.getElementById("minutes").value),d=parseInt(document.getElementById("seconds").value),e=a+" days "+b+" hours "+c+" minutes "+d+" seconds";document.getElementById("timer").innerHTML=e,document.getElementById("timerControls").style.display="block"},getEndDate=function(){var a=parseInt(document.getElementById("days").value),b=parseInt(document.getElementById("hours").value),c=parseInt(document.getElementById("minutes").value),d=parseInt(document.getElementById("seconds").value),e=moment().add(a,"days").add(b,"hours").add(c,"minutes").add(d,"seconds");return console.log(e.format("YYYY-MM-DDTHH:mm:ss")),e.format("YYYY-MM-DDTHH:mm:ss")},userTime,countdown=function(){var a=moment(userTime,"YYYY-MM-DDTHH:mm:ss"),b=moment(),c=a.diff(b,"milliseconds",!0);if(c>0){var d=Math.floor(moment.duration(c).asDays());a=a.subtract(d,"day"),c=a.diff(b,"milliseconds",!0);var e=Math.floor(moment.duration(c).asHours());a=a.subtract(e,"hours"),c=a.diff(b,"milliseconds",!0);var f=Math.floor(moment.duration(c).asMinutes());a=a.subtract(f,"minutes"),c=a.diff(b,"milliseconds",!0);var g=Math.floor(moment.duration(c).asSeconds()),h=d+" days "+e+" hours "+f+" minutes "+g+" seconds";document.getElementById("timer").innerHTML=h}else stopTimer(),document.getElementById("timeUp").play()},timerId,startTimer=function(){userTime=getEndDate(),startCountdown()},startCountdown=function(){timerId||(timerId=setInterval(countdown,1e3),countdown())},stopTimer=function(){clearInterval(timerId),timerId=null},resetTimer=function(){clearInterval(timerId),timerId=null;var a=0,b=0,c=0,d=0,e=a+" days "+b+" hours "+c+" minutes "+d+" seconds";document.getElementById("timer").innerHTML=e};document.getElementById("btnSetTimer").addEventListener("click",setTimer),document.getElementById("btnStartTimer").addEventListener("click",startTimer),document.getElementById("btnStopTimer").addEventListener("click",stopTimer),document.getElementById("btnResetTimer").addEventListener("click",resetTimer);